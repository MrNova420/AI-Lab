# Hardware Profile: GTX 1050 4GB / 16GB RAM
# Generated: Thu Feb  5 15:05:17 UTC 2026

# VRAM-aware settings
export PYTORCH_CUDA_ALLOC_CONF="max_split_size_mb:128,garbage_collection_threshold:0.6"
export CUDA_LAUNCH_BLOCKING=0
export OMP_NUM_THREADS=4  # Leave cores for system

# llama.cpp optimization for 4GB VRAM
export LLAMA_CUDA=1
export LLAMA_CUDA_MAIN_GPU=0
export LLAMA_CUDA_SPLIT_MODE=layer
export LLAMA_CUDA_FORCE_MMQ=1

# Quantization defaults (4-bit for your VRAM)
DEFAULT_QUANT="q4_0"
FALLBACK_QUANT="q5_0"  # If 4GB allows

# Memory management
export MALLOC_TRIM_THRESHOLD_=100000
export MALLOC_MMAP_THRESHOLD_=100000
